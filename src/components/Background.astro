<div class="gradient-bg">
	<svg xmlns="http://www.w3.org/2000/svg">
		<defs>
			<filter id="goo">
				<feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur"
				></feGaussianBlur>
				<feColorMatrix
					in="blur"
					mode="matrix"
					values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8"
					result="goo"></feColorMatrix>
				<feBlend in="SourceGraphic" in2="goo"></feBlend>
			</filter>
		</defs>
	</svg>
	<div class="gradients-container">
		<span class="g1"></span>
		<span class="g2"></span>
		<span class="g3"></span>
		<span class="g4"></span>
		<span class="g5"></span>
		<span class="g6"></span>
		<span class="g7"></span>
		<span class="interactive"></span>
	</div>
	<div class="custom-container">
		<slot />
	</div>
</div>

<script>
	document.addEventListener("DOMContentLoaded", () => {
		const interBubble = document.querySelector<HTMLDivElement>(".interactive")!;
		let curX = 0;
		let curY = 0;
		let tgX = 0;
		let tgY = 0;

		function move() {
			curX += (tgX - curX) / 20;
			curY += (tgY - curY) / 20;
			interBubble.style.transform = `translate(${Math.round(curX)}px, ${Math.round(curY)}px)`;
			requestAnimationFrame(() => {
				move();
			});
		}

		window.addEventListener("mousemove", (event) => {
			tgX = event.clientX;
			tgY = event.clientY;
		});

		move();
	});
</script>

<style>
	.custom-container {
		width: 100vw;
		height: 100vh;
		position: absolute;
		top: 0;
		left: 0;
		padding-inline: calc(50vw - 500px);
		box-sizing: border-box;
		overflow-y: scroll;
		background: rgba(var(--background-rgb), 0.2);
	}

	.gradient-bg {
		width: 100vw;
		height: 100vh;
		position: relative;
		overflow: hidden;
		background: linear-gradient(40deg, var(--color-bg1), var(--color-bg2));
		top: 0;
		left: 0;

		svg {
			display: none;
		}

		.gradients-container {
			filter: url(#goo) blur(100px);
			width: 100%;
			height: 100%;
		}

		.g1 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color1), 0.8) 0,
					rgba(var(--color1), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: var(--circle-size);
			height: var(--circle-size);
			top: calc(50% - var(--circle-size) / 2);
			left: calc(50% - var(--circle-size) / 2);

			transform-origin: center center;
			animation: moveVertical 60s ease infinite;

			opacity: 0.7;
		}

		.g2 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color2), 0.8) 0,
					rgba(var(--color2), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: var(--circle-size);
			height: var(--circle-size);
			top: calc(50% - var(--circle-size) / 2);
			left: calc(50% - var(--circle-size) / 2);

			transform-origin: calc(50% - 400px);
			animation: moveInCircle 40s reverse infinite;

			opacity: 0.7;
		}

		.g3 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color3), 0.8) 0,
					rgba(var(--color3), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: var(--circle-size);
			height: var(--circle-size);
			top: calc(50% - var(--circle-size) / 2 + 200px);
			left: calc(50% - var(--circle-size) / 2 - 500px);

			transform-origin: calc(50% + 400px);
			animation: moveInCircle 60s linear infinite;

			opacity: 0.7;
		}

		.g4 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color4), 0.8) 0,
					rgba(var(--color4), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: var(--circle-size);
			height: var(--circle-size);
			top: calc(50% - var(--circle-size) / 2);
			left: calc(50% - var(--circle-size) / 2);

			transform-origin: calc(50% - 400px);
			animation: moveHorizontal 80s ease infinite;

			opacity: 0.7;
		}

		.g5 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color5), 0.8) 0,
					rgba(var(--color5), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: calc(var(--circle-size) * 2);
			height: calc(var(--circle-size) * 2);
			top: calc(50% - var(--circle-size));
			left: calc(50% - var(--circle-size));

			transform-origin: calc(50% - 800px) calc(50% + 200px);
			animation: moveInCircle 40s ease infinite;

			opacity: 0.7;
		}

		.g6 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color2), 0.8) 0,
					rgba(var(--color2), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: calc(var(--circle-size) * 2);
			height: calc(var(--circle-size) * 2);
			top: calc(50% - var(--circle-size));
			left: calc(50% - var(--circle-size));

			transform-origin: calc(50% + 200px) calc(50% + 800px);
			animation: moveInCircle 40s ease infinite;

			opacity: 0.7;
		}

		.g7 {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color3), 0.8) 0,
					rgba(var(--color3), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: calc(var(--circle-size) * 2);
			height: calc(var(--circle-size) * 2);
			top: calc(50% - var(--circle-size));
			left: calc(50% - var(--circle-size));

			transform-origin: calc(50% + 400px) calc(50% + 200px);
			animation: moveInCircle 60s reverse infinite;

			opacity: 0.7;
		}

		.interactive {
			position: absolute;
			background: radial-gradient(
					circle at center,
					rgba(var(--color-interactive), 0.8) 0,
					rgba(var(--color-interactive), 0) 50%
				)
				no-repeat;
			mix-blend-mode: var(--blending);

			width: 80%;
			height: 80%;
			top: -40%;
			left: -40%;

			opacity: 0.7;
		}
	}
</style>
